# Default values for hdfs.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# ------------------------------------------------------------------------------
# Zookeeper:
# ------------------------------------------------------------------------------
zookeeper:
  # Configure Zookeeper resource requests and limits
  # ref: http://kubernetes.io/docs/user-guide/compute-resources/
  resources: ~

  # The JVM heap size to allocate to Zookeeper
  heap: "1G"

  # The number of zookeeper server to have in the quorum.
  servers: 3


# ------------------------------------------------------------------------------
# Global values affecting all sub-charts:
# ------------------------------------------------------------------------------
global:
  # A list of the local disk directories on cluster nodes that will contain the datanode
  # blocks. These paths will be mounted to the datanode as K8s HostPath volumes.
  # In a command line, the list should be enclosed in '{' and '}'.
  # e.g. --set "dataNodeHostPath={/hdfs-data,/hdfs-data1}"
  dataNodeHostPath:
    - /hdfs-data

  # Parameters for determining which Unix user and group IDs to use in pods.
  # Persistent volume permission may need to match these.
  podSecurityContext:
    enabled: false
    runAsUser: 0
    fsGroup: 1000

  # Whether or not to expect namenodes in the HA setup.
  namenodeHAEnabled: true

  # The number of zookeeper server to have in the quorum.
  # This should match zookeeper.servers above. Used only when
  # namenodeHAEnabled is set.
  zookeeperServers: 3

  # Override zookeeper quorum address. Zookeeper is used for determining which namenode
  # instance is active. Separated by the comma character. Used only when
  # namenodeHAEnabled is set.
  # zookeeperQuorumOverride: zk-0.zk-svc.default.svc.cluster.local:2181,zk-1.zk-svc.default.svc.cluster.local:2181,zk-2.zk-svc.default.svc.cluster.local:2181

  # How many journal nodes to launch as a quorum. Used only when
  # namenodeHAEnabled is set.
  journalnodeQuorumSize: 3

  # Whether or not to enable affinity setting.
  affinityEnabled: true

  # Whether or not Kerberos support is enabled.
  kerberosEnabled: false

  # Effective only if Kerberos is enabled. Name of the k8s config map containing
  # the kerberos config file.
  kerberosConfigMap: kerberos-config

  # Effective only if Kerberos is enabled. Name of the kerberos config file inside
  # the config map.
  kerberosConfigFileName: krb5.conf

  # Effective only if Kerberos is enabled. Name of the k8s secret containing
  # the kerberos keytab files of per-host HDFS principals. The secret should
  # have multiple data items. Each data item name should be formatted as:
  #    `HOST-NAME.keytab`
  # where HOST-NAME should match the cluster node
  # host name that each per-host hdfs principal is associated with.
  kerberosKeytabsSecret: hdfs-kerberos-keytabs

  # Required to be non-empty if Kerberos is enabled. Specify your Kerberos realm name.
  # This should match the realm name in your Kerberos config file.
  kerberosRealm: MYCOMPANY.COM

  # Effective only if Kerberos is enabled. Enable protection of datanodes using
  # the jsvc utility. See the reference doc at
  # https://hadoop.apache.org/docs/r2.7.2/hadoop-project-dist/hadoop-common/SecureMode.html#Secure_DataNode
  jsvcEnabled: true

# Conditions and tags for triggering subcharts.
subchart:
  simple-namenode: false

tags:
  # Trigger all subcharts by default
  all-subcharts: true
